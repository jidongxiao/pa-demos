<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>CodeMirror 5 Ghost Autocomplete Demo</title>
<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-EY04EPSP2B"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-EY04EPSP2B');
</script>
  <link rel="icon" type="image/x-icon" href="/favicons/PresentationAssistantsWhite.ico">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.2/codemirror.min.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.2/theme/monokai.min.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.2/addon/hint/show-hint.min.css">
  <!-- Theme initialization -->
  <script>
    (function() {
        var theme = localStorage.getItem('theme') || 'light';
        if(theme === 'light'){
            document.documentElement.classList.add('light-mode');
        } else {
            document.documentElement.classList.remove('light-mode');
        }
    })();
  </script>

  <!-- Bootstrap CSS -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" />
  <!-- Font Awesome -->
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" rel="stylesheet">
  <link rel="stylesheet" href="./css/shared-styles-demos.css">
  <link rel="stylesheet" href="./css/autocomplete-styles.css">

  <style>
    #editor { border: 1px solid #ccc; height: 400px; margin-bottom: 20px; }
  </style>
</head>
<body>
<div class="nav-container">
    <a href="/index.html" class="back-link">
      <i class="fas fa-arrow-left"></i> Back to Index
    </a>
    <button class="theme-toggle-button" id="theme-toggle">
      <i class="fas fa-moon" id="theme-icon"></i>
      <span id="theme-text">Switch to Dark Mode</span>
    </button>
</div>

<div class="main-container">
<div class="content-wrapper">
<!-- Left Column: Fake Typing Editor -->
<div class="form-container">
<h2>User-Defined Ghost Autocomplete Demo</h2>
<p>Type words from the sentences below. The next word will appear as a ghost suggestion:</p>
    <section class="examples">
      <h2>Example Sentences Used in this Demo:</h2>
      <ul id="sentence-list" class="sentence-list">
        <!-- Populated by JavaScript -->
      </ul>
    </section>
    <section class="editor-wrapper">
      <div class="editor-container">
        <div id="overlay" class="overlay"></div>
        <textarea
          id="editor"
          class="editor"
          spellcheck="false"
          placeholder="Start typing one of the predefined sentences..."
        ></textarea>
      </div>
    </section>
</div>

<!-- Right Column: Production Editor Promotion & Emphasis -->
<div class="comparison-section">
  <h2>Why use Ghost Autocomplete in your presentations?</h2>
  <div class="presentation-note">
    <div class="icon">
      <i class="fas fa-presentation-screen"></i>
    </div>
    <div class="description">
    <p><strong>Do you ever forget the next line of code or what to say during a live presentation?</strong> Pauses, glances at notes, or mistyped lines can disrupt your flow and cause your audience to lose focus. Our Ghost Autocomplete feature solves this by giving subtle hints for the next word based on the sentences you’ve prewritten for your presentation. You stay on track, maintain a smooth rhythm, and deliver accurate, professional demos — all without breaking eye contact with your audience or looking away from your editor.</p>
    
    <p>Excited about our editor? Try out full-featured code editor on <a href="https://presentationassistants.com" target="_blank">PresentationAssistants.com</a>. Our code editor allows one presenter to control the session while hundreds of participants follow along, run code, and interact in real time. <strong>Participants are view-only unless you explicitly grant edit permissions.</strong></p>
    </div>
  </div>
</div> <!-- End of Right Column -->

</div>
</div>

<script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.2/codemirror.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.2/addon/hint/show-hint.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.2/mode/clike/clike.min.js"></script>

<script>
    // Theme toggle
    function toggleTheme() {
      const currentTheme = localStorage.getItem('theme') || 'light';
      const newTheme = currentTheme === 'light' ? 'dark' : 'light';
      localStorage.setItem('theme', newTheme);

      if (newTheme === 'light') {
        document.documentElement.classList.add('light-mode');
        document.getElementById('theme-icon').className = 'fas fa-moon';
        document.getElementById('theme-text').textContent = 'Switch to Dark Mode';
      } else {
        document.documentElement.classList.remove('light-mode');
        document.getElementById('theme-icon').className = 'fas fa-sun';
        document.getElementById('theme-text').textContent = 'Switch to Light Mode';
      }
    }
    document.getElementById("theme-toggle").addEventListener("click", toggleTheme);
</script>
  <!-- Core scripts: order matters, load logic first, then initialize -->
  <script src="js/ghostEngine.js"></script>
  <script src="js/textareaAdapter.js"></script>
  <script src="js/config.js"></script>

  <script>
    // Simple guard: ensure namespace exists
    window.GhostAutocomplete = window.GhostAutocomplete || {};

    const {
      SENTENCES,
      ENGINE_OPTIONS,
      createGhostEngine,
      attachTextareaGhost,
    } = window.GhostAutocomplete;

    // 1. Create engine
    const engine = createGhostEngine({
      sentences: SENTENCES,
      ...ENGINE_OPTIONS,
    });

    // 2. Attach engine to textarea + overlay
    attachTextareaGhost({
      textareaId: "editor",
      overlayId: "overlay",
      engine,
    });

    // 3. List all predefined sentences on the page
    const list = document.getElementById("sentence-list");
    SENTENCES.forEach((s) => {
      const li = document.createElement("li");
      li.textContent = s;
      list.appendChild(li);
    });
  </script>
</body>
</html>
